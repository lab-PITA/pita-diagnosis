<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    
    <!-- SEO Meta Tags -->
    <title>PITA診断 | あなたは何主義者として生きるのか。</title>
    <meta name="description" content="「あなたは何主義者として生きるのか。」100の質問があなたの魂の形を決定づける。深層に潜む『イズム』を解剖する精密診断システム。">
    <meta name="keywords" content="性格診断, 心理テスト, 自己分析, 主義者, 大学生, PITA">
    <link rel="canonical" href="https://pita-diagnosis.com/">

    <!-- OGP (Open Graph Protocol) -->
    <meta property="og:title" content="PITA診断 | あなたは何主義者として生きるのか">
    <meta property="og:description" content="100の質問であなたの深層心理を解剖。魂の形を決定づける『イズム』を特定せよ。">
    <meta property="og:image" content="https://pita-diagnosis.com/ogp-image.png">
    <meta property="og:url" content="https://pita-diagnosis.com/">
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="PITA診断">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="PITA診断 | 100問の精密性格診断">
    <meta name="twitter:description" content="あなたは何主義者として生きるのか。100の質問があなたの魂の形を決定づける。">
    <meta name="twitter:image" content="https://pita-diagnosis.com/ogp-image.png">

    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+JP:wght@700&family=Noto+Sans+JP:wght@300;400;700&display=swap" rel="stylesheet">
    <style>
        :root { --primary: #111111; --accent: #3b82f6; --bg-gray: #f3f4f6; }
        body { font-family: 'Noto Sans JP', sans-serif; background-color: #ffffff; color: var(--primary); -webkit-font-smoothing: antialiased; overflow-x: hidden; word-break: break-word; }
        .serif { font-family: 'Noto Serif JP', serif; }
        
        /* 選択ボタン */
        .btn-choice { transition: all 0.2s ease-out; border: 1px solid #eeeeee; background: #ffffff; cursor: pointer; -webkit-tap-highlight-color: transparent; }
        .btn-choice:hover { border-color: var(--accent); background: #fafdff; transform: translateY(-1px); }
        .btn-choice:active { transform: scale(0.98); background: #f9f9f9; }
        
        .btn-secondary { transition: all 0.2s; border: 1px solid #e5e7eb; background: #fff; }
        .btn-secondary:hover { border-color: var(--accent); color: var(--accent); }

        .btn-back { transition: all 0.2s; color: #999; }
        .btn-back:hover { color: var(--primary); text-decoration: underline; }
        
        /* 進捗・画像スロット */
        .progress-bar { transition: width 0.4s cubic-bezier(0.4, 0, 0.2, 1); }
        .img-slot { aspect-ratio: 1 / 1; width: 100%; max-width: 320px; margin: 0 auto; border-radius: 50%; background-color: var(--bg-gray); overflow: hidden; display: flex; align-items: center; justify-content: center; position: relative; border: 1px solid #eeeeee; }
        .img-slot img { width: 100%; height: 100%; object-fit: cover; opacity: 0; transition: opacity 0.6s ease-in-out; }
        .img-loaded img { opacity: 1; }
        .img-placeholder { font-weight: 900; font-size: 0.6rem; color: #cccccc; letter-spacing: 0.1em; text-transform: uppercase; }

        /* ティッカー演出 */
        .ticker-container { width: 100%; overflow: hidden; white-space: nowrap; background: #fafafa; padding: 20px 0; border-top: 1px solid #eee; border-bottom: 1px solid #eee; margin-bottom: 2px; }
        .ticker-content { display: inline-block; animation: ticker 120s linear infinite; will-change: transform; }
        @keyframes ticker { from { transform: translate3d(0,0,0); } to { transform: translate3d(-50%,0,0); } }
        .ticker-item { display: inline-block; margin: 0 30px; font-weight: 700; color: #888; font-size: 0.9rem; }
        .ticker-char { color: var(--accent); opacity: 0.8; }

        .hidden { display: none; }
        .fade-in { animation: fadeIn 1s ease-out forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }
        .slide-fade { animation: slideFade 4s infinite; }
        @keyframes slideFade { 0%, 15% { opacity: 0; transform: scale(0.98); } 25%, 75% { opacity: 1; transform: scale(1); } 85%, 100% { opacity: 0; transform: scale(1.02); } }
        
        /* 開発者メニュー */
        #dev-menu { position: fixed; bottom: 20px; right: 20px; z-index: 9999; background: #111; color: #fff; padding: 15px; border-radius: 15px; font-size: 10px; opacity: 0.95; box-shadow: 0 10px 40px rgba(0,0,0,0.4); }
        #dev-menu button { background: #333; margin: 2px; padding: 6px 10px; border-radius: 6px; border: 1px solid #444; }
        #dev-menu button:hover { background: #3b82f6; }
    </style>
</head>
<body class="min-h-screen flex flex-col bg-white text-left">

    <!-- Header -->
    <nav class="p-4 md:p-8 flex justify-between items-center border-b border-gray-50 bg-white/80 backdrop-blur-md sticky top-0 z-50">
        <div class="flex flex-col cursor-pointer select-none text-left" onclick="devClick()">
            <div class="text-2xl md:text-3xl font-black tracking-tighter serif text-gray-900 leading-none">PITA</div>
            <div class="text-[7px] md:text-[8px] font-bold text-gray-400 tracking-[0.15em] uppercase mt-1 leading-none">Personality Ism Type Analyzer</div>
        </div>
        <div class="text-[9px] font-bold text-blue-600 tracking-widest uppercase italic border-l pl-4 border-gray-100 text-right">Core v5.1</div>
    </nav>

    <!-- Hidden Developer Menu -->
    <div id="dev-menu" class="hidden text-center">
        <p class="mb-3 font-bold border-b border-gray-700 pb-1 text-blue-400 uppercase text-[12px]">Debug Preview</p>
        <div class="grid grid-cols-2 gap-1">
            <button onclick="jumpToResult('ALT')">利他</button><button onclick="jumpToResult('EGO')">利己</button>
            <button onclick="jumpToResult('OPT')">楽観</button><button onclick="jumpToResult('NIH')">虚無</button>
            <button onclick="jumpToResult('IDE')">理想</button><button onclick="jumpToResult('REA')">現実</button>
            <button onclick="jumpToResult('MOD')">秩序</button><button onclick="jumpToResult('ANA')">混沌</button>
        </div>
        <button class="mt-3 w-full text-red-400 font-bold" onclick="document.getElementById('dev-menu').classList.add('hidden')">CLOSE</button>
    </div>

    <main class="flex-grow flex items-center justify-center p-4 md:p-6 bg-[#fcfcfc]">
        
        <!-- Intro Screen -->
        <div id="intro" class="max-w-2xl w-full text-center fade-in py-8">
            <div class="mb-4 inline-block px-4 py-1 rounded-full border border-gray-100 text-[9px] font-black tracking-widest text-gray-400 uppercase text-center">
                Identity Structure Verification
            </div>
            <h2 class="text-3xl md:text-6xl font-bold mb-8 serif leading-tight text-gray-900 text-center text-balance">
                あなたは何主義者として<br><span class="text-blue-600">生きるのか。</span>
            </h2>
            <p class="text-gray-500 mb-10 leading-relaxed text-xs md:text-sm tracking-widest max-w-lg mx-auto px-4 text-center">
                日常に潜む100の分岐点。その無意識の選択の重みが、あなたの主義を定義する。
            </p>
            
            <div class="mb-6 px-4">
                <button onclick="startDiagnosis()" class="w-full md:w-auto group relative inline-block text-center mx-auto">
                    <div class="absolute inset-0 bg-blue-600 rounded-full blur-2xl opacity-10 group-hover:opacity-30 transition"></div>
                    <div class="relative bg-gray-900 text-white px-12 py-5 rounded-full font-bold text-lg transition-all group-hover:bg-blue-700 shadow-2xl">
                        診断を開始する（全100問）
                    </div>
                </button>
            </div>

            <div class="mb-12">
                <a href="https://forms.gle/1qTTixArEFQwjuqK9" target="_blank" class="text-[10px] font-bold text-gray-400 hover:text-blue-500 transition-colors uppercase tracking-widest border-b border-gray-200 hover:border-blue-200 pb-1 text-center">
                    ご意見・ご要望はこちら
                </a>
            </div>

            <div class="max-w-sm mx-auto bg-white rounded-[2rem] p-6 md:p-10 shadow-sm border border-gray-50 text-center text-left">
                <div id="slide-content" class="slide-fade text-center">
                    <p id="slide-pair-names" class="text-[9px] font-black tracking-[0.4em] mb-6 text-blue-600 uppercase italic text-center"></p>
                    <div class="flex justify-around items-center gap-2">
                        <div class="flex flex-col items-center gap-3 w-1/2 text-center"><div class="img-slot w-16 h-16 bg-gray-50 border-gray-100 mx-auto" id="preview-l"></div><span id="label-l" class="text-[9px] font-bold text-gray-400 uppercase text-center"></span></div>
                        <span class="text-gray-200 text-lg font-thin italic">vs</span>
                        <div class="flex flex-col items-center gap-3 w-1/2 text-center"><div class="img-slot w-16 h-16 bg-gray-50 border-gray-100 mx-auto" id="preview-r"></div><span id="label-r" class="text-[9px] font-bold text-gray-400 uppercase text-center"></span></div>
                    </div>
                </div>
            </div>
            <p class="mt-8 text-[10px] text-gray-300 uppercase tracking-[0.4em] italic text-center">Approximately 5 minutes to reveal your core.</p>
        </div>

        <!-- Quiz Screen -->
        <div id="quiz" class="max-w-2xl w-full hidden py-4 md:py-16 text-left">
            <div class="mb-10 md:mb-16 px-2">
                <div class="w-full bg-gray-100 h-[2px] mb-6"><div id="progress" class="progress-bar bg-blue-600 h-full" style="width: 1%"></div></div>
                <div class="flex justify-between items-end">
                    <div class="flex flex-col text-left">
                        <span id="q-hint" class="text-[10px] font-bold text-blue-500 italic mb-1 h-4 select-none">...</span>
                        <span id="q-count" class="text-[9px] font-black text-gray-400 tracking-widest uppercase text-left">Question 01</span>
                    </div>
                    <div class="text-right"><div id="q-percent" class="text-3xl md:text-4xl font-light text-blue-600 serif leading-none">1%</div></div>
                </div>
            </div>
            <div class="min-h-[160px] md:min-h-[200px] flex flex-col items-center justify-center mb-12 px-2 text-center text-balance">
                <h3 id="question-text" class="text-xl md:text-3xl font-bold leading-relaxed serif text-gray-800"></h3>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 max-w-lg mx-auto px-4 mb-8">
                <button onclick="answer(true)" class="btn-choice py-6 md:py-8 px-6 rounded-2xl font-bold text-gray-800 text-lg md:text-xl shadow-sm text-center">はい</button>
                <button onclick="answer(false)" class="btn-choice py-6 md:py-8 px-6 rounded-2xl font-bold text-gray-800 text-lg md:text-xl shadow-sm text-center">いいえ</button>
            </div>
            <div class="text-center">
                <button id="btn-back" onclick="goBack()" class="btn-back text-[10px] font-bold uppercase tracking-widest hidden w-full text-center">← ひとつ前の質問に戻る</button>
            </div>
        </div>

        <!-- Result Screen -->
        <div id="result" class="max-w-4xl w-full hidden fade-in py-12 text-center">
            <div class="text-center mb-16 px-4 mx-auto">
                <p class="text-[9px] font-black text-blue-600 uppercase tracking-[0.6em] mb-4 text-center">Diagnostic Complete</p>
                <h2 id="result-title" class="text-4xl md:text-7xl font-bold mb-1 serif tracking-tighter text-gray-900 text-center"></h2>
                <p id="result-en" class="text-[12px] font-black text-gray-300 uppercase tracking-[0.4em] mb-6 italic text-center"></p>
                <p id="result-catch" class="text-lg md:text-2xl text-gray-400 font-medium italic serif mb-10 text-center text-balance"></p>
                
                <div id="result-art-container" class="img-slot shadow-2xl bg-white mb-12 border-none scale-100 md:scale-110 mx-auto"></div>

                <div class="inline-flex flex-col items-center bg-white px-8 py-6 rounded-[2rem] border border-gray-100 shadow-sm relative mx-auto text-center">
                    <div class="text-[8px] md:text-[9px] text-gray-400 uppercase font-black mb-1 tracking-[0.4em] text-center">Deep PITA Index</div>
                    <div class="flex items-baseline gap-2 justify-center">
                        <div id="stat-1" class="text-4xl md:text-6xl font-black italic tracking-tighter text-blue-900 text-center"></div>
                        <div class="text-[10px] font-bold text-gray-300 text-center">/ 200.0</div>
                    </div>
                    <button onclick="toggleScoreInfo()" class="mt-4 text-[9px] font-bold text-blue-500 border-b border-blue-200">What is this score?</button>
                    <div id="score-info" class="hidden absolute top-full mt-4 left-1/2 -translate-x-1/2 w-64 bg-gray-900 text-white p-6 rounded-2xl text-[10px] leading-loose z-50 text-left shadow-2xl">
                        <button onclick="toggleScoreInfo()" class="absolute top-2 right-4 text-gray-500 hover:text-white text-base">×</button>
                        <p class="mb-2 font-bold text-blue-400 italic text-[12px]">PITA Index とは？</p>
                        あなたの主義の「純度」を示す指標。高いほど特定の価値観に特化した「妥協のない生き方」を意味します。理論上の最大値は200.0。
                    </div>
                </div>
            </div>

            <div class="space-y-24 md:space-y-32 text-center mx-auto">
                <section class="max-w-2xl mx-auto px-6 text-center">
                    <h4 class="text-[9px] font-bold text-gray-300 mb-10 uppercase tracking-[0.5em] italic text-center">Spectrum Balance</h4>
                    <div id="axis-details" class="space-y-10 md:space-y-12"></div>
                </section>

                <section class="border-t border-gray-100 pt-20 overflow-hidden text-center">
                    <h4 class="text-[9px] font-bold text-gray-400 mb-8 uppercase tracking-[0.5em] italic text-center">Parallel Souls (Historical)</h4>
                    <div class="ticker-container"><div id="ticker-content" class="ticker-content"></div></div>
                </section>

                <section class="border-t border-gray-100 pt-16 overflow-hidden text-center">
                    <h4 class="text-[9px] font-bold text-blue-400 mb-8 uppercase tracking-[0.5em] italic text-center">Modern Icons (Characters)</h4>
                    <div class="ticker-container"><div id="ticker-char-content" class="ticker-content"></div></div>
                </section>

                <section class="bg-white p-8 md:p-24 rounded-[3rem] md:rounded-[5rem] mx-4 shadow-sm border border-gray-50 text-left text-gray-700">
                    <h4 class="text-[9px] font-bold text-gray-300 mb-10 uppercase tracking-[0.5em] text-center italic text-center">Identity Report</h4>
                    <div id="result-desc" class="leading-relaxed md:leading-[2.6] text-base md:text-xl space-y-8 serif"></div>
                </section>

                <section class="bg-blue-600 text-white p-8 md:p-24 rounded-[3rem] md:rounded-[5rem] shadow-2xl relative overflow-hidden mx-4 text-left text-center">
                    <div class="absolute top-0 right-0 p-12 text-blue-500 text-7xl md:text-9xl opacity-20 serif italic font-black pointer-events-none text-right">PITA</div>
                    <h4 class="text-[9px] font-bold text-blue-200 mb-10 uppercase tracking-[0.6em] text-center relative z-10 text-center">Future Guidance</h4>
                    <div id="result-direction" class="text-blue-50 leading-relaxed md:leading-[2.4] text-base md:text-xl space-y-6 relative z-10 text-center mx-auto max-w-lg"></div>
                </section>

                <div class="flex flex-col gap-6 pt-12 text-center pb-24 px-6 mx-auto max-w-sm">
                    <button onclick="shareOnX()" class="bg-[#1DA1F2] text-white py-5 px-10 rounded-full font-bold text-lg hover:opacity-90 transition-all shadow-xl text-center w-full">結果をXでシェアする</button>
                    
                    <a href="https://forms.gle/d6nJr3NhzWkyTiQFA" target="_blank" class="btn-secondary text-gray-700 py-5 px-10 rounded-full font-bold text-lg text-center w-full flex items-center justify-center gap-2">
                        <span>💬 フィードバックを送る</span>
                    </a>

                    <button onclick="location.reload()" class="bg-gray-900 text-white py-5 px-10 rounded-full font-bold text-lg hover:bg-black transition-all shadow-md text-center w-full text-white">もう一度診断する</button>
                    
                    <p class="text-[9px] text-gray-300 tracking-[0.3em] max-w-xs mx-auto leading-loose uppercase font-bold mt-8 text-center">
                        Personality Ism Type Analyzer © 2026
                    </p>
                </div>
            </div>
        </div>
    </main>

    <footer class="p-16 text-center border-t border-gray-50 bg-white">
        <div class="flex flex-wrap justify-center gap-x-8 gap-y-4 mb-8 text-[10px] font-bold text-gray-400 uppercase tracking-[0.2em] select-none text-center">
            <a href="privacy.html" class="hover:text-blue-500 transition-colors">Privacy Policy</a>
            <a href="https://forms.gle/d6nJr3NhzWkyTiQFA" target="_blank" class="hover:text-blue-500 transition-colors">Contact</a>
        </div>
        <div class="text-[9px] text-gray-300 uppercase tracking-[0.4em] mb-2 font-bold italic text-center">PITA / Personality Ism Type Analyzer</div>
        <div class="text-[7px] text-gray-200 uppercase tracking-tighter mt-4 text-center">&copy; 2026 pita-diagnosis.com. All rights reserved.</div>
    </footer>

    <script>
        // --- 1. Content Configuration ---
        const resultData = {
            ALT: { 
                en: "Altruist", n: "利他主義者", c: "「時代を救済する慈愛の聖者」", img: "PITA-ALT.png", 
                celebs: ["マザー・テレサ", "ガンジー", "シュバイツァー", "ナイチンゲール", "キング牧師", "デスモンド・ツツ", "ダイアナ妃"], 
                chars: ["竈門炭治郎(鬼滅の刃)", "緑谷出久(僕のヒーローアカデミア)", "沢田綱吉(家庭教師ヒットマンREBORN!)", "ベル・クラネル(ダンジョンに出会いを求めるのは間違っているだろうか)", "夏目貴志(夏目友人帳)", "乙骨憂太(呪術廻戦)", "竈門禰󠄀豆子(鬼滅の刃)", "藤丸立香(Fate/Grand Order)", "アルフォンス・エルリック(鋼の錬金術師)", "潮田渚(暗殺教室)", "アレン・ウォーカー(D.Gray-man)", "花垣武道(東京卍リベンジャーズ)", "有馬かな(【推しの子】)", "黒子テツヤ(黒子のバスケ)", "澤村大地(ハイキュー!!)", "清水潔子(ハイキュー!!)", "木之本桜(カードキャプターさくら)", "本田透(フルーツバスケット)", "鹿目まどか(魔法少女まどか☆マギカ)", "赤城(艦隊これくしょん -艦これ-)", "ウェンティ(原神)", "ナウシカ(風の谷のナウシカ)", "エミリア(Re:ゼロから始める異世界生活)", "レム(Re:ゼロから始める異世界生活)", "ジョナサン・ジョースター(ジョジョの奇妙な冒険)", "ファルコ・グライス(進撃の巨人)", "日向ヒナタ(NARUTO -ナルト-)", "井上織姫(BLEACH)", "ヨル・フォージャー(SPY×FAMILY)", "通形ミリオ(僕のヒーローアカデミア)"], 
                d: "【慈愛の性質】あなたは存在そのものが光です。他者の幸福を自らの喜びとし、自己犠牲すら厭わない精神性は、枯渇した現代社会における唯一の良心と言えるでしょう。周囲の感情に極めて敏感で、痛みを感じている者を見捨てることができません。【社会的役割】調和と癒やしの中心として機能します。あなたが輪の中にいるだけで、トゲのある空気が和らぎ、人々は本来の優しさを取り戻します。コミュニティの守護者であり、潤滑油でもあります。【潜在的リスク】他人の問題を自分のことのように抱え込みすぎ、自己を摩耗させる危険があります。自分を後回しにすることが習慣化すると、いつの間にか魂が空っぽになってしまうかもしれません。", 
                dir: "✦【強みの最大化】あなたの『共感力』を、単なる同情ではなく、世界を変える具体的なアクションへ昇華させてください。✦【弱点の克服】『断る勇気』を習得しましょう。他人にNOと言うことは、自分を大切にするという重要な意思表示です。✦【理想の環境】互いに支え合う文化があり、あなたの献身が「当たり前」とされず、感謝として還元される温かな居場所が最適です。" 
            },
            EGO: { 
                en: "Egoist", n: "利己主義者", c: "「自己を統治する気高き孤高の王」", img: "PITA-EGO.png", 
                celebs: ["ナポレオン", "スティーブ・ジョブズ", "織田信長", "ユリウス・カエサル", "アレクサンダー大王", "ハワード・ヒューズ", "ダリ", "マキアヴェッリ"], 
                chars: ["ギルガメッシュ(Fate/stay night)", "海馬瀬人(遊戯王)", "ルルーシュ・ランペルージ(コードギアス 反逆のルルーシュ)", "夜神月(DEATH NOTE)", "ベジータ(ドラゴンボール)", "フリーザ(ドラゴンボール)", "爆豪勝己(僕のヒーローアカデミア)", "志々雄真実(るろうに剣心 -明治剣客浪漫譚-)", "クロロ＝ルシルフル(HUNTER×HUNTER)", "エレン・イェーガー(進撃の巨人)", "ドンキホーテ・ドフラミンゴ(ONE PIECE)", "サー・クロコダイル(ONE PIECE)", "藍染惣右介(BLEACH)", "DIO(ジョジョの奇妙な冒険)", "赤司征十郎(黒子のバスケ)", "跡部景吾(テニスの王子様)", "殺生丸(犬夜叉)", "飛影(幽☆遊☆白書)", "綾小路清隆(ようこそ実力至上主義の教室へ)", "司波達也(魔法科高校の劣等生)", "五条悟(呪術廻戦)", "両面宿儺(呪術廻戦)", "馬狼照英(ブルーロック)", "糸師凛(ブルーロック)", "高杉晋助(銀魂)", "範馬勇次郎(グラップラー刃牙)", "言峰綺礼(Fate/stay night)", "シャルル・ジ・ブリタニア(コードギアス 反逆のルルーシュ)", "エンデヴァー(僕のヒーローアカデミア)", "ボア・ハンコック(ONE PIECE)"], 
                d: "【独立の性質】あなたは圧倒的な自己の確立者です。群れに媚びず、自らの欲望と目的に忠実であるその姿勢は、真の意味での『自由』を体現しています。他人の評価に左右されず、自分の価値基準のみで世界を裁定します。【社会的役割】停滞した状況を打破する「開拓者」や「カリスマ」として君臨します。あなたの揺るぎない自信は、迷える大衆を惹きつけ、新しい時代を創造する強力なエンジンとなります。【潜在的リスク】他者を自分の目的の「道具」として見なしやすく、孤独を招くことがあります。また、自分の弱さを認めることが難しく、限界に達しても周囲を頼れない強情さが仇となることもあるでしょう。", 
                dir: "✦【強みの最大化】その圧倒的な自己愛を、世界を動かす『ビジョン』へと昇華させてください。あなたが望むものは、結果として多くの人を幸せにする可能性があります。✦【弱点の克服】自分以外の『独立した才能』を認める度量を持ちましょう。他者の卓越さを愛でる余裕が、王としての風格を完成させます。✦【理想の環境】実力がすべてを語り、忖度や妥協の必要がない、トップスピードで走り続けられる競争環境がふさわしいでしょう。" 
            },
            OPT: { 
                en: "Optimist", n: "楽観主義者", c: "「世界に光を灯す不滅の希望」", img: "PITA-OPT.png", 
                celebs: ["ウォルト・ディズニー", "トーマス・エジソン", "坂本九", "アンネ・フランク", "ヘレン・ケラー", "チャーリー・チャップリン", "松下幸之助"], 
                chars: ["孫悟空(ドラゴンボール)", "うずまきナルト(NARUTO -ナルト-)", "サトシ(ポケットモンスター)", "ゴン＝フリークス(HUNTER×HUNTER)", "月野うさぎ(美少女戦士セーラームーン)", "両津勘吉(こちら葛飾区亀有公園前派出所)", "アーニャ・フォージャー(SPY×FAMILY)", "星野アイ(【推しの子】)", "虎杖悠仁(呪術廻戦)", "野原しんのすけ(クレヨンしんちゃん)", "佐藤和真(この素晴らしい世界に祝福を！)", "アクア(この素晴らしい世界に祝福を！)", "ナツ・ドラグニル(FAIRY TAIL)", "アスタ(ブラッククローバー)", "江戸川コナン(名探偵コナン)", "ドラえもん(ドラえもん)", "星馬烈(爆走兄弟レッツ&ゴー!!)", "喜多郁代(ぼっち・ざ・ろっく！)", "日向翔陽(ハイキュー!!)", "切島鋭児郎(僕のヒーローアカデミア)", "パック(Re:ゼロから始める異世界生活)", "ベアトリス(Re:ゼロから始める異世界生活)", "フェルト(Re:ゼロから始める異世界生活)", "ラインハルト・ヴァン・アストレア(Re:ゼロから始める異世界生活)", "諸星あたる(うる星やつら)", "ポプ子(ポプテピピック)", "ピピ美(ポプテピピック)", "高坂穂乃果(ラブライブ！)", "湊あくあ(ホロライブ)", "神楽(銀魂)"], 
                d: "【希望の性質】あなたは絶望を塗り替える天才です。どんな暗闇の中でも未来の輝きを見出し、周囲を明るく照らすそのエネルギーは、人類が前進し続けるための最も純粋な動力源です。失敗を単なる『成功へのプロセス』と心から信じています。【社会的役割】沈みかけたチームの士気を一瞬で引き上げる「ムードメーカー」であり、不可能な挑戦に火をつける「点火者」です。あなたの『きっと大丈夫』という一言は、時に物理的な限界を超えさせます。【潜在的リスク】現実的なリスクや警告を軽視しがちで、無謀な行動に出てしまうことがあります。また、周囲の悲しみに対しても明るさを強要してしまい、逆効果になるデリカシーの欠如には注意が必要です。", 
                dir: "✦【強みの最大化】その根拠のない自信を、誰にも負けない『継続力』へ繋げてください。挑戦し続ける限り、あなたの楽観は予言となります。✦【弱点の克服】冷徹な『現実主義者』のアドバイスに耳を傾ける耳を持ちましょう。彼らの警告は、あなたの翼をより高く飛ばすための重りとなります。✦【理想の環境】新しい試みが常に歓迎され、失敗を笑い飛ばせる、ポジティブなエネルギーに満ちたクリエイティブな場所が最適です。" 
            },
            NIH: { 
                en: "Nihilist", n: "虚無主義者", c: "「真理を悟りし超越の静観者」", img: "PITA-NIH.png", 
                celebs: ["ニーチェ", "太宰治", "カフカ", "ショーペンハウアー", "カミュ", "三島由紀夫"], 
                chars: ["ウルキオラ・シファー(BLEACH)", "L(DEATH NOTE)", "綾波レイ(新世紀エヴァンゲリオン)", "槙島聖護(PSYCHO-PASS)", "夏油傑(呪術廻戦)", "金木研(東京喰種トーキョーグール)", "碇シンジ(新世紀エヴァンゲリオン)", "渚カヲル(新世紀エヴァンゲリオン)", "伏黒甚爾(呪術廻戦)", "ディアボロ(ジョジョの奇妙な冒険)", "鬼舞辻無惨(鬼滅の刃)", "ガッツ(ベルセルク)", "暁美ほむら(魔法少女まどか☆マギカ)", "メルエム(HUNTER×HUNTER)", "フェイタン＝ポートオ(HUNTER×HUNTER)", "九条玲那(リコリス・リコイル)", "忍野メメ(〈物語〉シリーズ)", "サイタマ(ワンパンマン)", "阿良々木暦(〈物語〉シリーズ)", "不死川実弥(鬼滅の刃)", "童磨(鬼滅の刃)", "芥川龍之介(文豪ストレイドッグス)", "ジン(名探偵コナン)", "スカー(鋼の錬金術師)", "うちはオビト(NARUTO -ナルト-)", "うちはマダラ(NARUTO -ナルト-)", "虚(銀魂)", "貝木泥舟(〈物語〉シリーズ)", "キルア＝ゾルディック(HUNTER×HUNTER)", "セバスチャン・ミカエリス(黒執事)"], 
                d: "【空の性質】あなたは世界の『無』を見抜いた賢者です。虚飾に満ちた社会の価値観から脱却し、何物にも執着しないその静かなる視点は、あらゆる苦悩を超越した究極の自由を象徴しています。虚無の果てに立つあなたの姿は、気高く美しい。【社会的役割】熱狂や混乱に呑まれない「観察者」として機能します。多くの人が幻想を追って迷走する中、あなたは冷徹に本質を見抜き、無駄なエネルギー消費を止める『ブレーキ』の役割を果たします。【潜在的リスク】『どうせ意味がない』という考えに支配され、必要な行動まで放棄してしまう可能性があります。無気力が長期化すると、自分自身の生命感さえも希薄になり、他者との接続を完全に断ってしまう危険があります。", 
                dir: "✦【強みの最大化】『意味がないからこそ、何をやっても自由だ』という究極の開き直りを楽しんでください。何物にも依存しないあなたの視点は、真の自由な表現を生みます。✦【弱点の克服】一過性の『感覚の快楽』や『小さな面白さ』を大切にしましょう。壮大な意味はなくとも、今この瞬間の心地よさは事実です。✦【理想の環境】過度な期待や情熱を押し付けられず、一人の時間が確保された、静かで知的な思索に耽ることができる環境がベストです。" 
            },
            IDE: { 
                en: "Idealist", n: "理想主義者", c: "「至高なる未来を紡ぐ美の建築家」", img: "PITA-IDE.png", 
                celebs: ["ジョン・レノン", "宮沢賢治", "サン=テグジュペリ", "ファン・ゴッホ", "オスカー・ワイルド", "プラトン"], 
                chars: ["衛宮士郎(Fate/stay night)", "アルトリア-ペンドラゴン(Fate/stay night)", "ジャンヌ・ダルク(Fate/Apocrypha)", "ハンジ・ゾエ(進撃の巨人)", "ロイ・マスタング(鋼の錬金術師)", "及川徹(ハイキュー!!)", "宮園かをり(四月は君の嘘)", "千反田える(氷菓)", "エルヴィン・スミス(進撃の巨人)", "グリフィス(ベルセルク)", "シャル・ド・ゴール(史実)", "アーサー・ペンドラゴン(Fate/Prototype)", "本田菊(ヘタリア Axis Powers)", "雲雀恭弥(家庭教師ヒットマンREBORN!)", "六道骸(家庭教師ヒットマンREBORN!)", "獄寺隼人(家庭教師ヒットマンREBORN!)", "山本武(家庭教師ヒットマンREBORN!)", "雨宮蓮(ペルソナ5)", "鳳凰院凶真(STEINS;GATE)", "枢木スザク(コードギアス 反逆のルルーシュ)", "ユーフェミア・リ・ブリタニア(コードギアス 反逆のルルーシュ)", "アルミンの巨匠(進撃の巨人)", "エドワード・エルリック(鋼の錬金術師)", "ニコ・ロビン(ONE PIECE)", "星海光来(ハイキュー!!)", "宮侑(ハイキュー!!)", "宮治(ハイキュー!!)", "北信介(ハイキュー!!)", "中島敦(文豪ストレイドッグス)", "太宰治(文豪ストレイドッグス)", "結城理(ペルソナ3)"], 
                d: "【イデアの性質】あなたは現実というキャンバスに理想を描く芸術家です。目に見える事実よりも、心にある『あるべき姿』を信じる情熱は、人類を更なる高みへと押し上げる崇高な意志です。泥の中でも空を見上げ、星を数え続けることができる人です。【社会的役割】人々に「夢」や「崇高な目的」を指し示す「導師」や「予言者」となります。凡庸な現実に飽き足らない人々を鼓舞し、不可能と思われたイノベーションを成し遂げる原動力となります。【潜在的リスク】理想への純粋さが強すぎるあまり、不完全な現実や他人の欠点を激しく拒絶してしまう『潔癖さ』があります。理想と現実のギャップに絶望し、世捨て人のようになってしまう脆さも持ち合わせています。", 
                dir: "✦【強みの最大化】脳内の完璧な世界を、一歩ずつ現実の言葉や形へ翻訳し続けてください。その翻訳作業こそが、あなたの人生の芸術作品となります。✦【弱点の克服】不完全さの中にある『美しさ』を見出す訓練をしましょう。完璧ではないからこそ愛おしいという感覚が、あなたの世界観をより豊かにします。✦【理想の環境】あなたの高い理想を嘲笑せず、その価値を理解し、実現に向けて協力してくれる志の高い仲間がいる場所が最適です。" 
            },
            REA: { 
                en: "Realist", n: "現実主義者", c: "「混沌を切り裂く真実の体現者」", img: "PITA-REA.png", 
                celebs: ["福沢諭吉", "徳川家康", "フランクリン", "チャーチル", "鄧小平", "ビスマルク", "ロックフェラー"], 
                chars: ["奈良シカマル(NARUTO -ナルト-)", "比企谷八幡(やはり俺の青春ラブコメはまちがっている。)", "リヴァイ・アッカーマン(進撃の巨人)", "サンジ(ONE PIECE)", "トラファルガー・ロー(ONE PIECE)", "狡噛慎也(PSYCHO-PASS)", "加藤恵(さええない彼女の育てかた)", "雪ノ下雪乃(やはり俺の青春ラブコメはまちがっている。)", "堀北鈴音(ようこそ実力至上主義の教室へ)", "龍園翔(ようこそ実力至上主義の教室へ)", "坂柳有栖(ようこそ実力至上主義の教室へ)", "加持リョウジ(新世紀エヴァンゲリオン)", "葛城ミサト(新世紀エヴァンゲリオン)", "赤木リツコ(新世紀エヴァンゲリオン)", "岩泉一(ハイキュー!!)", "角名倫太郎(ハイキュー!!)", "佐久早聖臣(ハイキュー!!)", "昼神幸郎(ハイキュー!!)", "岸辺(チェンソーマン)", "天沢一夏(ようこそ実力至上主義の教室へ)", "堀北学(ようこそ実力至上主義の教室へ)", "灰崎祥吾(黒子のバスケ)", "花宮真(黒子のバスケ)", "吉良吉影(ジョジョの奇妙な冒険)", "高坂麗奈(響け！ユーフォニアム)", "黄前久美子(響け！ユーフォニアム)", "鎧塚みぞれ(響け！ユーフォニアム)", "比企谷小町(やはり俺の青春ラブコメはまちがっている。)", "一条将輝(魔法科高校の劣等生)", "折木奉太郎(氷菓)"], 
                d: "【実利の性質】あなたは揺るぎない地平に立つ実力者です。曖昧な幻想を排除し、事実と論理で世界を読み解く知性は、現代を生き抜く最も強力な武器です。生存確率を計算し、確実に勝機を掴むその手腕は、芸術的ですらあります。【社会的役割】組織の「頭脳」や「土台」を担います。熱狂に流されず冷静に数値を分析し、リスクを管理するあなたの存在は、プロジェクトの成功率を飛躍的に高めます。頼れるアドバイザーです。【潜在的リスク】目に見えない『人の感情』や『直感』を軽視しがちで、マシーンのような冷酷な印象を周囲に与えることがあります。また、計算できないサプライズやイレギュラーに直面すると、必要以上に混乱することもあります。", 
                dir: "✦【強みの最大化】その論理的思考に『心理学』の知見を加えてください。人間の非合理ささえも計算式に入れれば、あなたの現実把握は無敵となります。✦【弱点の克服】たまには『無駄なこと』をあえて実行してみましょう。非効率な体験の中に、論理だけでは導き出せなかった新しい発見が眠っています。✦【理想の環境】成果が数値化され、合理的な判断が正当に評価される、無駄な感情論の少ないプロフェッショナルな職場が最適です。" 
            },
            MOD: { 
                en: "Modernist", n: "秩序主義者", c: "「調和を維持する世界の守護者」", img: "PITA-MOD.png", 
                celebs: ["カント", "リンカーン", "ワシントン", "孔子", "マックス・ウェーバー", "ドラッカー", "ミル", "ハミルトン"], 
                chars: ["飯田天哉(僕のヒーローアカデミア)", "国木田独歩(文豪ストレイドッグス)", "手塚国光(テニスの王子様)", "真田弦一郎(テニスの王子様)", "影山飛雄(ハイキュー!!)", "常守朱(PSYCHO-PASS)", "宜野座伸元(PSYCHO-PASS)", "銭形警部(ルパン三世)", "目暮十三(名探偵コナン)", "佐藤美和子(名探偵コナン)", "安室透(名探偵コナン)", "赤井秀一(名探偵コナン)", "ターニャ・デグレチャフ(幼女戦記)", "ラインハルト・フォン・ローエングラム(銀河英雄伝説)", "ヤン・ウェンリー(銀河英雄伝説)", "オーベルシュタイン(銀河英雄伝説)", "ロイ・マスタング(鋼の錬金術師)", "三雲修(ワールドトリガー)", "七海建人(呪術廻戦)", "朽木白哉(BLEACH)", "山口忠(ハイキュー!!)", "縁下力(ハイキュー!!)", "近藤勲(銀魂)", "土方十四郎(銀魂)", "ミッターマイヤー(銀河英雄伝説)", "ロイエンタール(銀河英雄伝説)", "夜久衛輔(ハイキュー!!)", "二階堂永亮(ツルネ -風舞高校弓道部-)", "白鳥任三郎(名探偵コナン)", "鏑木・T・虎徹(TIGER & BUNNY)"], 
                d: "【規律の性質】あなたは文明の根幹を支える守護神です。規律を重んじ、美しい秩序を構築・維持する誠実さは、社会が崩壊することなく存続するための要石です。あなたがルーチンを守る時、世界は初めて安心して自転を続けることができます。【社会的役割】「管理」「統制」「教育」の分野で無類の強さを発揮します。ルールを形にし、公平に運用することで、組織に公正さと安定感をもたらします。人々が安心して能力を発揮できる場を創る人です。【潜在的リスク】固定観念に縛られやすく、急激な変化や既存ルールの破壊に対して強い拒絶反応を示します。マニュアルがない状況では判断が鈍り、柔軟性を欠いた対応で自らも周囲も息苦しくさせてしまうことがあります。", 
                dir: "✦【強みの最大化】ルールを守る側から、時代に即した『ルールを創る側』へ回りましょう。あなたの公平さは、より多くの人を救うシステム構築に活かされます。✦【弱点の克服】『適当さ』や『遊び』の価値を認めましょう。完璧な秩序よりも、多少の揺らぎがあるほうが、システムとしての強度は高まる場合もあります。✦【理想の環境】歴史と伝統があり、役割分担が明確で、誠実な働きが長期的に報われる安定した組織が、あなたの能力を最大限に引き出します。" 
            },
            ANA: { 
                en: "Anarchist", n: "混沌主義者", c: "「無限の可能性を解き放つ自由の解放者」", img: "PITA-ANA.png", 
                celebs: ["坂本龍馬", "パブロ・ピカソ", "チェ・ゲバラ", "バクーニン", "マルコムX", "ディオゲネス", "シド・ヴィシャス"], 
                chars: ["ヒソカ＝モロウ(HUNTER×HUNTER)", "ジョーカー(DCコミックス)", "坂田銀時(銀魂)", "デンジ(チェンソーマン)", "パワー(チェンソーマン)", "我妻由乃(未来日記)", "雨流みねね(未来日記)", "モンキー・D・ルフィ(ONE PIECE)", "ユースタス・キッド(ONE PIECE)", "空条承太郎(ジョジョの奇妙な冒険)", "空条徐倫(ジョジョの奇妙な冒険)", "東方仗助(ジョジョの奇妙な冒険)", "ジャイロ・ツェペリ(ジョジョの奇妙な冒険)", "リゾット・ネエロ(ジョジョの奇妙な冒険)", "プロシュート(ジョジョの奇妙な冒険)", "レヴィ(BLACK LAGOON)", "纏流子(キルラキル)", "エスデス(アカメが斬る！)", "アーサー・ボイル(炎炎ノ消防隊)", "諸星あたる(うる星やつら)", "範馬刃牙(グラップラー刃牙)", "折原臨也(デュラララ!!)", "ラッド・ルッソ(BACCANO!)", "セルティ・ストゥルルソン(デュラララ!!)", "東堂葵(呪術廻戦)", "トガヒミコ(僕のヒーローアカデミア)", "両面宿儺(呪術廻戦)", "死柄木弔(僕のヒーローアカデミア)", "バギー(ONE PIECE)", "ジェビル(DELTARUNE)"], 
                d: "【変革の性質】あなたはあらゆる鎖を断ち切る変革者です。既存のルールを破壊し、真っ白な大地に新たな風を吹き込む衝動は、進化のために不可欠な生命的根源力です。【社会的役割】「破壊的イノベーター」や「革命児」としての役割を担います。常識が通用しない新しい視点を持ち込み、硬直した社会に風穴を開けます。あなたが動くとき、新しい時代の幕が上がります。【潜在的リスク】破壊のあとに何を遺すかを考えないため、周囲に多大な混乱や傷跡を残してしまうことがあります。また、持続性に欠け、一つの場所にとどまって何かを育むことが極めて困難であるため、人生が流浪しがちです。", 
                dir: "✦【強みの最大化】その『野性的な直感』を信じ抜いてください。理屈を超えたあなたの行動こそが、停滞した世界の唯一の解導剤となります。✦【弱点の克服】『破壊の後の更地』を管理してくれるパートナーを見つけましょう。自分一人ですべてを壊し尽くすのではなく、バトンを渡すことを覚えれば、あなたの変革は完結します。✦【理想の環境】制約が一切なく、毎日が予測不能で、あなたの突飛な行動が「個性」として歓迎される、カオスでエネルギッシュな現場が最適です。" 
            }
        };

        // --- 2. 100 Questions Data ---
        const questions = [
            { t: "コンビニの会計。後ろに行列があるとき、小銭を出すのを優先して支払う。", a: "ALT", w: 1 },
            { t: "他人の失敗談を聞くと、口では同情しながらどこか「安心」を感じるほうだ。", a: "EGO", w: 2 },
            { t: "グループの空気が悪いとき、自分がピエロになってでも場を和ませる努力をする。", a: "ALT", w: 2 },
            { t: "「人生で最も大切なのは自分自身だ」という言葉に、強く惹かれる。", a: "EGO", w: 3 },
            { t: "電車で席を譲る際、「誰かに見られているのではないか」と自意識が過剰に働く。", a: "EGO", w: 1 },
            { t: "SNSで誰かが炎上しているのを見ると、詳細を積極的に追ってしまう。", a: "EGO", w: 2 },
            { t: "友人の結婚報告を聞くと、お祝いの前に「焦り」や「対抗心」が芽生える。", a: "EGO", w: 2 },
            { t: "チームの勝利よりも、自分自身の成果を重視する。", a: "EGO", w: 3 },
            { t: "道に迷っている外国人を見かけたら、積極的に声をかけようとする。", a: "ALT", w: 1 },
            { t: "悩み相談。解決策を提示するより、ただ相手の悲しみに深く寄り添う。", a: "ALT", w: 2 },
            { t: "自分が損をしても、周囲が幸せならそれでいいと思える価値観を持っている。", a: "ALT", w: 3 },
            { t: "嫌いな相手が苦境に立たされているのを知ると、密かに喜びを感じる。", a: "EGO", w: 2 },
            { t: "対立を避けるためなら、自分の本当の意見を飲み込む選択をする。", a: "ALT", w: 2 },
            { t: "「人は結局、自分一人のために生きている」という考えを支持する。", a: "EGO", w: 3 },
            { t: "誰かに必要とされていると実感することに、生きる意味を見出す。", a: "ALT", w: 3 },
            { t: "匿名掲示板やSNSで、誰かの落ち度を厳しく指摘した経験がある。", a: "EGO", w: 2 },
            { t: "相手が喜ぶ姿を想像しながら、お土産を真剣に選ぶことが好きだ。", a: "ALT", w: 1 },
            { t: "行列でマナーの悪い人を見ても、平和のために見て見ぬふりをする。", a: "ALT", w: 1 },
            { t: "公共の場で騒いでいる子供を、しつけ不足だと冷ややかに見なす。", a: "EGO", w: 2 },
            { t: "親しい友人が借金で困っていたら、返ってこない覚悟で救おうとする。", a: "ALT", w: 3 },
            { t: "自分のミスを他人のせいにできる状況なら、迷わずそうする。", a: "EGO", w: 2 },
            { t: "SNSの「いいね」の数は、自分の価値を証明する重要な尺度だ。", a: "EGO", w: 1 },
            { t: "知らない人に道を尋ねられたら、目的地まで実際に同行して案内するほうだ。", a: "ALT", w: 1 },
            { t: "「自分が良ければいい」と言い切る人間に、強烈な潔さを感じる。", a: "EGO", w: 2 },
            { t: "他人の顔色を伺って、自分の発言を微調整することが日常的だ。", a: "ALT", w: 1 },
            { t: "寝る前、明日の予定を考えるとワクワクして眠れないことがある。", a: "OPT", w: 1 },
            { t: "成功者の体験談を読むと、成功は単なる運だと冷ややかに思う。", a: "NIH", w: 2 },
            { t: "100円の宝くじで、1億円が当たる可能性を夢想して楽しむタイプだ。", a: "OPT", w: 1 },
            { t: "どんなに努力しても、生まれ持った才能の壁は絶対だと信じている。", a: "NIH", w: 3 },
            { t: "凄惨なニュースを見ても、どこか他人事のように冷徹に観察する。", a: "NIH", w: 2 },
            { t: "「人生は一度きり」という言葉に、希望よりも重圧を感じる。", a: "NIH", w: 2 },
            { t: "自分が死んだ後の世界がどうなっていようが、完全に無関心である。", a: "NIH", w: 3 },
            { t: "「死ねばすべて無に帰す」という考えに、深い安堵感を覚える。", a: "NIH", w: 3 },
            { t: "失敗したときは「今回は運が悪かった、次は大丈夫」と直感的に思う。", a: "OPT", w: 2 },
            { t: "初対面の人に対しても、まずは「善人だ」と信じて接するほうだ。", a: "OPT", w: 1 },
            { t: "「この世界には本質的に何の価値もない」という言葉に、同意する。", a: "NIH", w: 3 },
            { t: "世界平和を願うよりも、自分の利益を優先させるほうが現実的だと考える。", a: "NIH", w: 2 },
            { t: "新しいことに挑戦する時、成功した時の報酬を常に先に考えて行動する。", a: "OPT", w: 2 },
            { t: "過去の失敗は、すべて今の自分にとって不可欠な肯定すべきステップだ。", a: "OPT", w: 2 },
            { t: "自分には、まだ誰にも見せていない特別な才能が眠っていると確信している。", a: "OPT", w: 2 },
            { t: "ネットの悲観的な意見を読むと、自分の不安を正しく代弁されていると感じる。", a: "NIH", w: 2 },
            { t: "「100年後の地球」について、暗い終末のイメージを常に持っている。", a: "NIH", w: 2 },
            { t: "夢を語る人を見ると、いつか現実を知って絶望するだろうと予測する。", a: "NIH", w: 2 },
            { t: "「努力は必ず報われる」という言葉を、今も本気で信じている。", a: "OPT", w: 3 },
            { t: "人生において「意味」を探す行為そのものが、最大の時間の無駄である。", a: "NIH", w: 3 },
            { t: "最悪の事態の中でも、必ず一筋の希望を見つける自信がある。", a: "OPT", w: 2 },
            { t: "自分の命は、宇宙の長い歴史の中では完全に無価値なチリだと認識している。", a: "NIH", w: 2 },
            { t: "道端に咲く花を見て、生命の力強さに心から感動する。", a: "OPT", w: 1 },
            { t: "「いつか人類は滅亡する」と考えると、穏やかな安堵感を覚える。", a: "NIH", w: 3 },
            { t: "もし生まれ変わるなら、また「自分自身」に生まれたいと切望する。", a: "OPT", w: 3 },
            { t: "映画や小説を楽しむ前に、あらすじや結末を詳細に確認するほうだ。", a: "REA", w: 1 },
            { t: "「愛があればお金はいらない」という言葉を、非現実的だと笑い飛ばす。", a: "REA", w: 3 },
            { t: "行列ができる人気店には、どんなに価値があっても並ぶことを避ける。", a: "REA", w: 1 },
            { t: "自分の部屋には、他人には理解されない独自の「こだわり」が詰まっている。", a: "IDE", w: 2 },
            { t: "具体的な数値よりも、感情を激しく揺さぶる物語に高い価値を感じる。", a: "IDE", w: 2 },
            { t: "スペックの数値よりも、直感的に「美しい」と思ったデザインで買い物を決める。", a: "IDE", w: 2 },
            { t: "直感や占いよりも、客観的なデータや検索結果を圧倒的に信頼する。", a: "REA", w: 2 },
            { t: "「正しさ」よりも「美しさ」を優先して判断する瞬間が多々ある。", a: "IDE", w: 2 },
            { t: "大きな夢を語るよりも、まずは明日の収支計算を確実に行いたい。", a: "REA", w: 3 },
            { t: "正論で論破されると、たとえ自分が間違っていても強い憤りを感じる。", a: "IDE", w: 2 },
            { t: "「効率化」という言葉を聞くと、無機質でつまらない世界を連想する。", a: "IDE", w: 2 },
            { t: "悩みを聞いたとき、まず「なぜそれが起きたか」の原因を特定しようとする。", a: "REA", w: 2 },
            { t: "自分にしか見えていない「世界の真理」が存在すると密かに信じている。", a: "IDE", w: 3 },
            { t: "ファンタジー映画よりも、実在の人物を描いたドキュメンタリーに強く惹かれる。", a: "REA", w: 2 },
            { t: "説明書を読む前に、まずは自分の感覚で触って動かし方を覚えたい。", a: "IDE", w: 1 },
            { t: "「普通はこうする」という言葉を、思考停止の極みだと強く拒絶する。", a: "IDE", w: 3 },
            { t: "旅行は計画を完璧に立て、実際に行くとその予定を死守することに快感を覚える。", a: "REA", w: 2 },
            { t: "恋愛において、情熱よりも「生活力の安定」を最優先するのは当然だと考える。", a: "REA", w: 3 },
            { t: "空想にふけっていて、いつの間にか数時間が経過していることがよくある。", a: "IDE", w: 2 },
            { t: "芸術にお金を使うくらいなら、確実に満足できる食事にお金を使いたい。", a: "REA", w: 2 },
            { t: "「目に見えるもの」だけが唯一の真実だと言い切れる。", a: "REA", w: 3 },
            { t: "直感で「これだ！」と思ったことは、他人が何を言おうと実行する。", a: "IDE", w: 3 },
            { t: "自分の人生は、壮大な物語の主人公として描かれていると感じる。", a: "IDE", w: 2 },
            { t: "リスクが1%でもあるなら、その計画は即座に中止か再考すべきだと考える。", a: "REA", w: 2 },
            { t: "何をするにも、まず「それには何の意味（実利）があるか」を計算する。", a: "REA", w: 2 },
            { t: "スマホの充電が 50% を切ると、落ち着かなくなり充電器を探す。", a: "MOD", w: 1 },
            { t: "予定がない休日でも、何時に起きるかを前日に決めてアラームをかけてから眠る。", a: "MOD", w: 1 },
            { t: "他人の靴が揃っていないのを見ると、反射的に直してしまう。", a: "MOD", w: 1 },
            { t: "既成のルールやマナーを壊すことに、強い解放感と快感を覚える。", a: "ANA", w: 3 },
            { t: "自分の葬式は、従来の宗教的・形式的な儀礼を一切排除したい。", a: "ANA", w: 2 },
            { t: "「予定は未定」という言葉を、人生のモットーとして愛している。", a: "ANA", w: 2 },
            { t: "整理整頓が完璧な空間よりも、少し生活感のある場所のほうが好きだ。", a: "ANA", w: 1 },
            { t: "寄り道をせずに最短ルートで目的地に到着することに達成感を感じる。", a: "MOD", w: 1 },
            { t: "「締め切り」という束縛を感じると、すべてを放り出して逃げたくなる。", a: "ANA", w: 2 },
            { t: "初めての場所へ行く時、あえて地図を見ずに直感だけで歩くことが好きだ。", a: "ANA", w: 2 },
            { t: "デスクの上の配置は、常にセンチ単位で一定でないと気が済まない。", a: "MOD", w: 2 },
            { t: "明確なルールがあるからこそ、その中で「自由」を満喫できるのだと信じている。", a: "MOD", w: 2 },
            { t: "新しいお店に入る時、事前にSNSやネットで内装やメニューを完全に把握してから行く。", a: "MOD", w: 1 },
            { t: "「とりあえずやってみる」より「まず準備する」ほうが、最終的な効率が良いと考える。", a: "MOD", w: 2 },
            { t: "決まったルーチンワークを淡々とこなすことに、深い安心感を見出す。", a: "MOD", w: 2 },
            { t: "予測不可能な行動をとって、周囲の反応を伺うことが好きだ。", a: "ANA", w: 2 },
            { t: "誰かに「指示されること」を、自分の尊厳に対する侵害だと感じる。", a: "ANA", w: 3 },
            { t: "ゴミの分別を徹底しない人に対し、強い嫌悪感を抱く。", a: "MOD", w: 2 },
            { t: "人生は、計算通りにいかない「不確実性」こそが醍醐味だ。", a: "ANA", w: 2 },
            { t: "毎日の食事の時間が厳密に決まっていると、精神的に安定する。", a: "MOD", w: 1 },
            { t: "自分がリーダーの時は、部下に対し例外なくマニュアルの遵守を求める。", a: "MOD", w: 2 },
            { t: "既成概念をあえて破壊し、わざと空気が読まない行動をとることがある。", a: "ANA", w: 3 },
            { t: "カバンの中身が常に整理されており、どこになにが入っているか把握している。", a: "MOD", w: 1 },
            { t: "他人の「5分程度の遅刻」が、どうしても許しがたい不誠実だと感じる。", a: "MOD", w: 2 },
            { t: "予定が埋まっているカレンダーを見ると、檻に閉じ込められたかのような息苦しさを感じる。", a: "ANA", w: 3 }
        ];

        // --- 3. Logic & State Management ---
        const ismPairs = [{l:"利他",lk:'ALT',r:"利己",rk:'EGO'},{l:"楽観",lk:'OPT',r:"虚無",rk:'NIH'},{l:"理想",lk:'IDE',r:"現実",rk:'REA'},{l:"秩序",lk:'MOD',r:"混沌",rk:'ANA'}];
        
        const hintPool = [
            "いい選択だ。", "深層が揺れている。", "迷いも答えだ。", "本質に近づいている。", "魂に嘘はないか？", "思考の解像度が上がる。", "その決断が君だ。", "加速しよう。", "真実まであと少し。",
            "理性か本能か。", "君の輪郭が見えてきた。", "深い、もっと深く。", "その直感を信じろ。", "常識を捨て去れ。", "君の核へ触れる。", "面白い回答だ。", "本当の君は誰だ？", "世界のノイズを消せ。", "覚悟はいいか。",
            "ここでやめたら一生自分は謎のままだ。", "素晴らしい、その迷いこそが人間だ。", "この1問が君を定義する。", "順調だ、深淵まで潜れ。", "君の『イズム』が悲鳴を上げている。", "常識の檻を壊せ。", "自分への嘘を暴け。", "面白い、君はそんな風に考えるのか。",
            "半分まで来たな、魂は無事か？", "加速する思考、止まるな。", "今の回答、少し震えなかったか？", "君の本性が剥き出しになっていく。", "理論を超えろ、直感に従え。", "いいね、その潔さ。", "真実へのカウントダウンだ。", "思考の霧が晴れていく。",
            "君という物語のクライマックスへ。", "全神経をこの1問に注げ。", "素晴らしい集中力だ。", "魂の純度が高まっていく。", "迷獄の出口は近い。", "自分を騙すのはもうやめだ。", "深層心理の鍵が開く音がする。", "いいぞ、その調和。", "混沌を恐れるな。",
            "現実を見据える目は鋭いか？", "理想の旗を掲げ続けろ。", "利己的な自分を愛せるか？", "利他的な自分に誇りを持て。", "楽観は知恵だ。", "虚無こそが真の自由だ。", "秩序を守る盾となれ。", "混沌を巻き起こす嵐となれ。", "君の答えを世界が待っている。",
            "その一手が運命を変える。", "鼓動を感じるか？", "自分を疑うな。", "君の真実はそこにある。", "未来は君の手の中に。", "歴史はこうして作られる。"
        ];

        let currentIdx = 0, scores = { ALT:0, EGO:0, OPT:0, NIH:0, IDE:0, REA:0, MOD:0, ANA:0 }, history = [], slideIdx = 0, devClickCount = 0, finalType = 'ALT';

        window.onload = () => {
            const urlParams = new URLSearchParams(window.location.search);
            const resParam = urlParams.get('result');
            if(resParam && resultData[resParam]) jumpToResult(resParam);
            updateIsmPreview(); 
            setInterval(updateIsmPreview, 4000);
        };

        function updateIsmPreview(){
            const p = ismPairs[slideIdx];
            document.getElementById('slide-pair-names').innerText=`${p.lk} vs ${p.rk}`;
            document.getElementById('label-l').innerText=p.l; document.getElementById('label-r').innerText=p.r;
            
            // イントロプレビュー左画像
            const imgL = document.createElement('img');
            imgL.src = resultData[p.lk].img;
            imgL.className = "w-full h-full object-cover opacity-100";
            imgL.onerror = () => { document.getElementById('preview-l').innerHTML=`<span class="img-placeholder text-[8px]">${p.lk}</span>`; };
            document.getElementById('preview-l').innerHTML = ''; document.getElementById('preview-l').appendChild(imgL);

            // イントロプレビュー右画像
            const imgR = document.createElement('img');
            imgR.src = resultData[p.rk].img;
            imgR.className = "w-full h-full object-cover opacity-100";
            imgR.onerror = () => { document.getElementById('preview-r').innerHTML=`<span class="img-placeholder text-[8px]">${p.rk}</span>`; };
            document.getElementById('preview-r').innerHTML = ''; document.getElementById('preview-r').appendChild(imgR);

            slideIdx = (slideIdx+1)%ismPairs.length;
        }

        function devClick() { devClickCount++; if(devClickCount>=5){document.getElementById('dev-menu').classList.remove('hidden');devClickCount=0;}}
        function startDiagnosis(){ document.getElementById('intro').classList.add('hidden'); document.getElementById('quiz').classList.remove('hidden'); showQuestion(); }

        function showQuestion(){
            const q = questions[currentIdx];
            document.getElementById('question-text').innerText = q.t;
            document.getElementById('q-count').innerText = `Question ${(currentIdx+1).toString().padStart(2,'0')}`;
            document.getElementById('q-hint').innerText = hintPool[Math.floor(Math.random() * hintPool.length)];
            const progress = ((currentIdx+1)/100)*100;
            document.getElementById('progress').style.width = `${progress}%`;
            document.getElementById('q-percent').innerText = `${Math.floor(progress)}%`;
            document.getElementById('btn-back').classList.toggle('hidden', currentIdx === 0);
        }

        function answer(isYes){
            history.push({ scores: JSON.parse(JSON.stringify(scores)), idx: currentIdx });
            const q = questions[currentIdx];
            const opp = { ALT:'EGO', EGO:'ALT', OPT:'NIH', NIH:'OPT', IDE:'REA', REA:'IDE', MOD:'ANA', ANA:'MOD' }[q.a];
            if(isYes) scores[q.a] += q.w; else scores[opp] += q.w;
            currentIdx++; if(currentIdx < 100) showQuestion(); else finish();
        }

        function goBack(){ if(history.length===0) return; const last=history.pop(); scores=last.scores; currentIdx=last.idx; showQuestion(); }
        function finish(){ document.getElementById('quiz').classList.add('hidden'); document.getElementById('result').classList.remove('hidden'); showResult(); }
        function toggleScoreInfo(){ document.getElementById('score-info').classList.toggle('hidden'); }

        function showResult(){
            let maxVal = -1, totalDev = 0;
            const pairs = [{lk:'ALT',rk:'EGO'},{lk:'OPT',rk:'NIH'},{lk:'IDE',rk:'REA'},{lk:'MOD',rk:'ANA'}];
            pairs.forEach(p => {
                const sum = scores[p.lk] + scores[p.rk], ratio = sum === 0 ? 50 : (scores[p.lk]/sum)*100;
                totalDev += Math.abs(ratio - 50);
                if(scores[p.lk] >= maxVal){ maxVal=scores[p.lk]; finalType=p.lk; }
                if(scores[p.rk] >= maxVal){ maxVal=scores[p.rk]; finalType=p.rk; }
            });
            const data = resultData[finalType];
            document.getElementById('result-title').innerText=data.n;
            document.getElementById('result-en').innerText=data.en;
            document.getElementById('result-catch').innerText=data.c;
            document.getElementById('result-desc').innerHTML=data.d.split('【').filter(s=>s).map(s=>`<p class="mb-6">【${s}</p>`).join('');
            document.getElementById('result-direction').innerHTML=data.dir.split('✦').filter(s=>s).map(s=>`<p class="mb-4">✦ ${s}</p>`).join('');
            const pIndex = (100 + (totalDev * 0.45) + Math.random()*5).toFixed(1);
            document.getElementById('stat-1').innerText=Math.min(pIndex, 200.0).toFixed(1);
            
            const artSlot = document.getElementById('result-art-container');
            artSlot.classList.remove('img-loaded');
            const imgEl = document.createElement('img');
            imgEl.src = data.img; 
            imgEl.onload = () => artSlot.classList.add('img-loaded');
            imgEl.onerror = () => { artSlot.innerHTML = `<span class="img-placeholder text-[8px]">${finalType} Visualization</span>`; };
            artSlot.innerHTML = ''; artSlot.appendChild(imgEl);

            const tC = document.getElementById('ticker-content'); tC.innerHTML='';
            [...data.celebs,...data.celebs].forEach(c=>{ tC.innerHTML+=`<span class="ticker-item">${c}</span>`; });
            const chT = document.getElementById('ticker-char-content'); chT.innerHTML='';
            [...data.chars,...data.chars].forEach(c=>{ chT.innerHTML+=`<span class="ticker-item ticker-char">${c}</span>`; });

            const axisB = document.getElementById('axis-details'); axisB.innerHTML='';
            const labels = [{l:"献身",r:"孤高",lk:'ALT',rk:'EGO'},{l:"渇望",r:"静観",lk:'OPT',rk:'NIH'},{l:"夢幻",r:"実利",lk:'IDE',rk:'REA'},{l:"調和",r:"変革",lk:'MOD',rk:'ANA'}];
            labels.forEach(p => {
                const sum = scores[p.lk] + scores[p.rk], lp = sum===0?50:Math.round((scores[p.lk]/sum)*100), rp = 100-lp;
                axisB.innerHTML += `<div class="space-y-4 text-center"><div class="flex justify-between text-[10px] font-black text-gray-400 uppercase tracking-[0.3em] px-1 italic"><span>${p.l}(${p.lk}) ${lp}%</span><span>${rp}% ${p.r}(${p.rk})</span></div><div class="h-1.5 w-full bg-gray-100 rounded-full flex overflow-hidden"><div class="bg-blue-400 h-full progress-bar" style="width:${lp}%"></div><div class="bg-gray-800 h-full progress-bar" style="width:${rp}%"></div></div></div>`;
            });
            window.scrollTo({top:0,behavior:'smooth'});
        }

        function jumpToResult(type){ finalType=type; document.getElementById('intro').classList.add('hidden'); document.getElementById('quiz').classList.add('hidden'); document.getElementById('result').classList.remove('hidden'); scores={ALT:0,EGO:0,OPT:0,NIH:0,IDE:0,REA:0,MOD:0,ANA:0}; scores[type]=75; showResult(); }
        function shareOnX(){ const idx=document.getElementById('stat-1').innerText; const text=encodeURIComponent(`PITA診断結果：私は【${resultData[finalType].n}】でした。PITA Index: ${idx} / 200.0\n${resultData[finalType].c}\n\nあなたは何主義者として生きるのか。深層心理を解剖せよ。\n#PITA診断 #PersonalityIsmTypeAnalyzer\n`); window.open(`https://twitter.com/intent/tweet?text=${text}&url=${encodeURIComponent(window.location.href)}`,'_blank'); }
    </script>
</body>
</html>
