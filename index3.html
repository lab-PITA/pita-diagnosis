<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PITA診断 | Personality Ism Type Analyzer</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+JP:wght@700&family=Noto+Sans+JP:wght@300;400;700&display=swap" rel="stylesheet">
    <style>
        :root { --primary: #111111; --accent: #3b82f6; --bg-gray: #f3f4f6; }
        body { font-family: 'Noto Sans JP', sans-serif; background-color: #ffffff; color: var(--primary); -webkit-font-smoothing: antialiased; overflow-x: hidden; }
        .serif { font-family: 'Noto Serif JP', serif; }
        
        /* 選択肢ボタン */
        .btn-choice { transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); border: 1px solid #eeeeee; background: #ffffff; cursor: pointer; -webkit-tap-highlight-color: transparent; }
        .btn-choice:hover { border-color: var(--accent); background: #fafdff; transform: translateY(-2px); }
        .btn-choice:active { transform: translateY(0); scale: 0.98; }

        /* 進捗バー */
        .progress-bar { transition: width 0.6s cubic-bezier(0.65, 0, 0.35, 1); }

        /* 画像スロット */
        .img-slot {
            aspect-ratio: 1 / 1;
            width: 100%;
            max-width: 280px;
            margin: 0 auto;
            border-radius: 50%;
            background-color: var(--bg-gray);
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            border: 1px solid #eeeeee;
        }
        .img-slot img { width: 100%; height: 100%; object-fit: cover; }
        .img-placeholder { font-weight: 900; font-size: 0.7rem; color: #cccccc; letter-spacing: 0.2em; text-transform: uppercase; }

        /* ティッカー（偉人の名前） */
        .ticker-container {
            width: 100%;
            overflow: hidden;
            white-space: nowrap;
            background: #fafafa;
            padding: 24px 0;
            border-top: 1px solid #eee;
            border-bottom: 1px solid #eee;
        }
        .ticker-content {
            display: inline-block;
            animation: ticker 40s linear infinite;
        }
        @keyframes ticker {
            0% { transform: translateX(0); }
            100% { transform: translateX(-50%); }
        }
        .ticker-item {
            display: inline-block;
            margin: 0 40px;
            font-weight: 700;
            color: #888;
            font-size: 1.1rem;
        }

        .hidden { display: none; }
        .fade-in { animation: fadeIn 1s ease-out forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }

        /* カルーセル */
        .slide-fade { animation: slideFade 4s infinite; }
        @keyframes slideFade {
            0%, 15% { opacity: 0; transform: scale(0.98); }
            25%, 75% { opacity: 1; transform: scale(1); }
            85%, 100% { opacity: 0; transform: scale(1.02); }
        }
    </style>
</head>
<body class="min-h-screen flex flex-col">

    <!-- Header -->
    <nav class="p-4 md:p-8 flex justify-between items-center border-b border-gray-50 bg-white/80 backdrop-blur-md sticky top-0 z-50">
        <div class="flex flex-col">
            <div class="text-2xl md:text-3xl font-black tracking-tighter serif text-gray-900 leading-none">PITA</div>
            <div class="text-[7px] md:text-[8px] font-bold text-gray-400 tracking-[0.15em] uppercase mt-1 leading-none">Personality Ism Type Analyzer</div>
        </div>
        <div class="text-[9px] font-bold text-blue-600 tracking-widest uppercase italic border-l pl-4 border-gray-100">System v3.5</div>
    </nav>

    <main class="flex-grow flex items-center justify-center p-4 md:p-6 bg-[#fcfcfc]">
        
        <!-- 導入画面 -->
        <div id="intro" class="max-w-2xl w-full text-center fade-in py-8">
            <div class="mb-4 inline-block px-4 py-1 rounded-full border border-gray-100 text-[9px] font-black tracking-widest text-gray-400 uppercase">
                Personality Ism Type Analyzer
            </div>
            <h2 class="text-3xl md:text-6xl font-bold mb-8 serif leading-tight text-gray-900">
                あなたは何主義者として<br><span class="text-blue-600">生きるのか。</span>
            </h2>
            <p class="text-gray-500 mb-10 leading-relaxed text-xs md:text-sm tracking-widest max-w-lg mx-auto px-4">
                100の分岐点が、あなたの魂の形を決定づける。<br>
                深層に潜む「イズム」を解剖せよ。
            </p>
            
            <div class="mb-12 px-4">
                <button onclick="startDiagnosis()" class="w-full md:w-auto group relative inline-block">
                    <div class="absolute inset-0 bg-blue-600 rounded-full blur-2xl opacity-10 group-hover:opacity-30 transition"></div>
                    <div class="relative bg-gray-900 text-white px-12 py-5 rounded-full font-bold text-lg transition-all group-hover:bg-blue-700 shadow-2xl">
                        PITA診断を開始する（100問）
                    </div>
                </button>
            </div>

            <!-- 動的な主義者プレビュー -->
            <div class="max-w-sm mx-auto bg-white rounded-[2rem] p-6 md:p-10 shadow-sm border border-gray-50">
                <div id="slide-content" class="slide-fade">
                    <p id="slide-pair-names" class="text-[9px] font-black tracking-[0.4em] mb-6 text-blue-600 uppercase italic"></p>
                    <div class="flex justify-around items-center gap-2">
                        <div class="flex flex-col items-center gap-3 w-1/2">
                            <div class="img-slot w-16 h-16 bg-gray-50 border-gray-100" id="preview-l"></div>
                            <span id="label-l" class="text-[9px] font-bold text-gray-400"></span>
                        </div>
                        <span class="text-gray-200 text-lg font-thin italic">vs</span>
                        <div class="flex flex-col items-center gap-3 w-1/2">
                            <div class="img-slot w-16 h-16 bg-gray-50 border-gray-100" id="preview-r"></div>
                            <span id="label-r" class="text-[9px] font-bold text-gray-400"></span>
                        </div>
                    </div>
                </div>
            </div>
            <p class="mt-8 text-[10px] text-gray-300 uppercase tracking-[0.4em] italic">Approximately 5 minutes to truth.</p>
        </div>

        <!-- 質問回答画面 -->
        <div id="quiz" class="max-w-2xl w-full hidden py-4 md:py-16">
            <div class="mb-10 md:mb-16 px-2">
                <div class="w-full bg-gray-100 h-[1.5px] mb-6">
                    <div id="progress" class="progress-bar bg-blue-600 h-full" style="width: 1%"></div>
                </div>
                <div class="flex justify-between items-end">
                    <div class="flex flex-col">
                        <span id="q-count" class="text-[9px] font-black text-gray-400 tracking-widest uppercase mb-1">Question 01</span>
                        <span class="text-[7px] text-gray-300 font-bold uppercase tracking-widest">Ism Analysis</span>
                    </div>
                    <div class="text-right">
                        <div id="q-percent" class="text-3xl md:text-4xl font-light text-blue-600 serif leading-none">1%</div>
                    </div>
                </div>
            </div>
            
            <div class="min-h-[180px] md:min-h-[220px] flex items-center justify-center mb-12 px-2">
                <h3 id="question-text" class="text-xl md:text-4xl font-bold text-center leading-snug md:leading-tight serif text-gray-800"></h3>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 max-w-lg mx-auto px-4">
                <button onclick="answer(true)" class="btn-choice py-6 md:py-8 px-6 rounded-2xl md:rounded-[2rem] font-bold text-gray-800 text-lg md:text-xl shadow-sm">
                    はい
                </button>
                <button onclick="answer(false)" class="btn-choice py-6 md:py-8 px-6 rounded-2xl md:rounded-[2rem] font-bold text-gray-800 text-lg md:text-xl shadow-sm">
                    いいえ
                </button>
            </div>
        </div>

        <!-- 結果表示画面 -->
        <div id="result" class="max-w-4xl w-full hidden fade-in py-12">
            <div class="text-center mb-16 px-4">
                <p class="text-[9px] font-black text-blue-600 uppercase tracking-[0.6em] mb-4">Diagnostics Complete</p>
                <h2 id="result-title" class="text-4xl md:text-8xl font-bold mb-4 serif tracking-tighter text-gray-900"></h2>
                <p id="result-catch" class="text-lg md:text-3xl text-gray-400 font-medium italic serif mb-10"></p>
                
                <!-- 結果画像スロット -->
                <div id="result-art-container" class="img-slot shadow-2xl bg-white mb-12 border-none scale-100 md:scale-110">
                    <span class="img-placeholder text-[8px]">Analyzing Identity...</span>
                </div>

                <div class="inline-flex flex-col items-center bg-gray-50 px-8 py-6 rounded-[2rem] border border-gray-100">
                    <div class="text-[8px] md:text-[9px] text-gray-400 uppercase font-black mb-2 tracking-[0.4em]">Deep PITA-Index</div>
                    <div id="stat-1" class="text-3xl md:text-5xl font-black italic tracking-tighter text-blue-900"></div>
                </div>
            </div>

            <div class="space-y-24 md:space-y-32">
                <!-- パラメータ詳細 -->
                <section class="max-w-2xl mx-auto px-6">
                    <h4 class="text-[9px] font-bold text-gray-300 mb-10 uppercase tracking-[0.5em] text-center italic">Spectrum Analysis</h4>
                    <div id="axis-details" class="space-y-10 md:space-y-12"></div>
                </section>

                <!-- 偉人セクション（ティッカー） -->
                <section class="border-t border-gray-100 pt-20 overflow-hidden">
                    <h4 class="text-[9px] font-bold text-gray-400 mb-8 uppercase tracking-[0.5em] italic text-center">Parallel Souls (Historical Figures)</h4>
                    <div class="ticker-container">
                        <div id="ticker-content" class="ticker-content">
                            <!-- JSで生成 -->
                        </div>
                    </div>
                </section>

                <!-- 深層分析レポート -->
                <section class="bg-white p-8 md:p-24 rounded-[3rem] md:rounded-[5rem] mx-4 shadow-sm border border-gray-50 text-left">
                    <h4 class="text-[9px] font-bold text-gray-300 mb-10 uppercase tracking-[0.5em] text-center">Depth Report</h4>
                    <div id="result-desc" class="text-gray-700 leading-relaxed md:leading-[2.6] text-base md:text-xl space-y-8 serif"></div>
                </section>

                <!-- 未来の指針 -->
                <section class="bg-blue-600 text-white p-8 md:p-24 rounded-[3rem] md:rounded-[5rem] shadow-2xl relative overflow-hidden mx-4 text-left">
                    <div class="absolute top-0 right-0 p-12 text-blue-500 text-7xl md:text-9xl opacity-20 serif italic font-black">PITA</div>
                    <h4 class="text-[9px] font-bold text-blue-200 mb-10 uppercase tracking-[0.6em] text-center relative z-10">Future Guidance</h4>
                    <div id="result-direction" class="text-blue-50 leading-relaxed md:leading-[2.4] text-base md:text-xl space-y-6 relative z-10"></div>
                </section>

                <!-- SNS共有・操作エリア -->
                <div class="flex flex-col gap-6 pt-12 text-center pb-24 px-6">
                    <button onclick="shareOnX()" class="bg-[#1DA1F2] text-white py-5 px-10 rounded-full font-bold text-lg hover:opacity-90 transition-all shadow-xl max-w-sm mx-auto w-full">
                        結果をXでシェアする
                    </button>
                    <button onclick="location.reload()" class="bg-gray-900 text-white py-5 px-10 rounded-full font-bold text-lg hover:bg-black transition-all shadow-md max-w-sm mx-auto w-full">
                        もう一度診断する
                    </button>
                    <p class="text-[9px] text-gray-300 tracking-[0.3em] max-w-xs mx-auto leading-loose uppercase font-bold mt-8">
                        Personality Ism Type Analyzer © 2026<br>Identity Structure Certification
                    </p>
                </div>
            </div>
        </div>
    </main>

    <footer class="p-10 text-center bg-white border-t border-gray-50">
        <div class="text-[9px] text-gray-300 uppercase tracking-[0.4em] mb-2 font-bold italic">PITA / Personality Ism Type Analyzer</div>
        <div class="text-[7px] text-gray-200 uppercase tracking-tighter">Authorized Digital Identification System</div>
    </footer>

    <script>
        const resultData = {
            ALT: { n: "利他主義者", c: "「時代を救済する慈愛の聖者」", img: "", celebs: ["マザー・テレサ", "ガンジー", "シュバイツァー", "ナイチンゲール", "オードリー・ヘップバーン", "キング牧師", "ネルソン・マンデラ", "エレノア・ルーズベルト", "デスモンド・ツツ", "ダイアナ妃"], d: "あなたは存在そのものが光です。他者の幸福を自らの喜びとし、自己犠牲すら厭わないその精神性は、現代社会の唯一の良心です。周囲からは時として『お節介』と言われるかもしれませんが、それはあなたの魂の器が大きすぎるための誤解に過ぎません。", dir: "まずは自分を愛することから始めてください。他者のために使い果たしたエネルギーを、たまには自分のために浪費する贅沢を覚えることで、慈愛はより深まります。他人にNOと言うことは、自分にYESと言うことです。" },
            EGO: { n: "利己主義者", c: "「自己を統治する気高き孤高の王」", img: "", celebs: ["ナポレオン", "スティーブ・ジョブズ", "織田信長", "ユリウス・カエサル", "アレクサンダー大王", "ハワード・ヒューズ", "アイン・ランド", "サルバドール・ダリ", "ヘンリー・フォード", "マキアヴェッリ"], d: "あなたは圧倒的な自己の確立者です。群れに媚びず、自らの目的と欲望に忠実である姿勢は、真の自由を体現しています。王座は常に、一人のために用意されているのです。孤独を恐れず、自らの力で道を切り拓き続けてください。", dir: "その揺るぎない自己愛を、世界を動かすエンジンにしてください。あなたが自分を極限まで大切にすることは、周囲に強烈なインスピレーションを与えます。自分のわがままを、社会が従わざるを得ない『ビジョン』へと昇華させるのです。" },
            OPT: { n: "楽観主義者", c: "「世界に光を灯す不滅の希望」", img: "", celebs: ["ウォルト・ディズニー", "トーマス・エジソン", "坂本九", "アンネ・フランク", "ヘレン・ケラー", "チャーリー・チャップリン", "アンドリュー・カーネギー", "本田宗一郎", "松下幸之助", "渋沢栄一"], d: "あなたは絶望を塗り替える天才です。どんな暗闇の中でも未来の輝きを見出し、周囲を明るく照らすそのエネルギーは、人類が前進し続けるための最も純粋な動力源です。あなたの無邪気なまでの確信こそが、不可能を可能にする唯一の奇跡です。", dir: "根拠のない自信を、そのまま根拠にしてください。論理や確率が『不可能だ』と告げた時、あなたの『きっと大丈夫』という一言が物理法則を凌駕します。計画を立てるよりも、期待を膨らませることで、現実はあなたに従い始めます。" },
            NIH: { n: "虚無主義者", c: "「真理を悟りし超越の静観者」", img: "", celebs: ["ニーチェ", "太宰治", "カフカ", "ショーペンハウアー", "カミュ", "シオラン", "サミュエル・ベケット", "芥川龍之介", "レオパルディ", "三島由紀夫"], d: "あなたは世界の『無』を見抜いた賢者です。虚飾に満ちた社会の価値観から脱却し、何物にも執着しない静かな視点は、究極の自由を象徴しています。虚無の果てに立つあなたの姿は、気高く美しい。周囲の些末な騒動は、あなたにはただのノイズです。", dir: "『意味がない』からこそ、何をやっても自由なのだという悟りを楽しんでください。何物にも依存しないあなたの冷徹な視点は、社会が迷走した時にこそ必要とされる『真実の鏡』となります。冷めた瞳で、この喜劇のような世界を優雅に鑑賞し続けましょう。" },
            IDE: { n: "理想主義者", c: "「至高なる未来を紡ぐ美の建築家」", img: "", celebs: ["ジョン・レノン", "宮沢賢治", "サン=テグジュペリ", "フィンセント・ファン・ゴッホ", "オスカー・ワイルド", "ルソー", "ボブ・ディラン", "プラトン", "シェイクスピア", "アンデルセン"], d: "あなたは現実というキャンバスに理想を描く芸術家です。目に見える事実よりも、心にある『あるべき姿』を信じる情熱は、人類を更なる高みへと押し上げる崇高な意志です。泥の中でも空を見上げ、星を数え続けることができる人です。", dir: "あなたの脳内にある完璧な世界を、一歩ずつ現実へ翻訳してください。現実とのギャップに苦しむのは、あなたが正しい証拠です。その苦しみを芸術や言葉に変え、凡庸な現実を侵食していくことで、世界はあなたのイデアに近づいていきます。" },
            REA: { n: "現実主義者", c: "「混沌を切り裂く真実の体現者」", img: "", celebs: ["福沢諭吉", "徳川家康", "マルクス・アウレリウス", "ベンジャミン・フランクリン", "チャーチル", "鄧小平", "リー・クアンユー", "ビスマルク", "アダム・スミス", "ロックフェラー"], d: "あなたは揺るぎない地平に立つ実力者です。曖昧な幻想を排除し、事実と論理で世界を読み解く知性は、現代を生き抜く最も強力な武器です。生存確率を計算し、確実に勝機を掴むその手腕は、もはや芸術的ですらあります。", dir: "数字と事実の背後にある『人間の感情』という変数も計算に入れてください。あなたが完璧なシステムを構築した時、唯一のノイズは人間です。そのノイズさえも管理下に置くことで、あなたの支配力は揺るぎないものになります。" },
            MOD: { n: "秩序主義者", c: "「調和を維持する世界の守護者」", img: "", celebs: ["カント", "リンカーン", "ジョージ・ワシントン", "孔子", "マックス・ウェーバー", "ロバート・ピール", "ピーター・ドラッカー", "ジョン・スチュアート・ミル", "ハミルトン", "福沢諭吉"], d: "あなたは文明の根幹を支える守護神です。規律を重んじ、美しい秩序を構築・維持する誠実さは、社会が崩壊することなく存続するための要石です。あなたがルーチンを守る時、世界は初めて安心して自転を続けることができます。", dir: "ルールを守るだけでなく、ルールを創る側に立ってください。あなたの高い規律性と公平さは、他者を導くためにあります。完成されたシステムの中で生きる安らぎを、次はあなたが他人に与える番です。" },
            ANA: { n: "混沌主義者", c: "「無限の可能性を解き放つ自由の解放者」", img: "", celebs: ["坂本龍馬", "パブロ・ピカソ", "チェ・ゲバラ", "エマ・ゴールドマン", "ガイ・フォークス", "バクーニン", "マルコムX", "ディオゲネス", "シド・ヴィシャス", "土方歳三"], d: "あなたはあらゆる鎖を断ち切る変革者です。既存のルールを破壊し、真っ白な大地に新たな風を吹き込む衝動は、進化のために不可欠な根源力です。古い檻の中にいることに耐えられない、真の自由人です。", dir: "破壊のあとに何が残るかを考える必要はありません。あなたの役割はただ『終わらせること』。更地になった世界に新しい種をまくのは他の主義者に任せ、あなたはひたすらに風であり続けてください。" }
        };

        const ismPairs = [
            { l: "利他", lk: "ALT", r: "利己", rk: "EGO" },
            { l: "楽観", lk: "OPT", r: "虚無", rk: "NIH" },
            { l: "理想", lk: "IDE", r: "現実", rk: "REA" },
            { l: "秩序", lk: "MOD", r: "混沌", rk: "ANA" }
        ];

        let slideIdx = 0;
        function updateIsmPreview() {
            const pair = ismPairs[slideIdx];
            document.getElementById('slide-pair-names').innerText = `${pair.lk} vs ${pair.rk}`;
            document.getElementById('label-l').innerText = pair.l;
            document.getElementById('label-r').innerText = pair.r;
            document.getElementById('preview-l').innerHTML = `<span class="img-placeholder">${pair.lk}</span>`;
            document.getElementById('preview-r').innerHTML = `<span class="img-placeholder">${pair.rk}</span>`;
            slideIdx = (slideIdx + 1) % ismPairs.length;
        }
        setInterval(updateIsmPreview, 4000);
        updateIsmPreview();

        // 精査済み質問データ100問
        const questions = [
            // --- 社会軸 (利他 ALT / 利己 EGO) : 25問 ---
            { t: "コンビニの会計。後ろに行列があるとき、小銭を出すのを諦めてお札で払う。", a: "ALT" },
            { t: "他人の失敗談を聞くと、口では同情しながらどこか「安心」している自分がいる。", a: "EGO" },
            { t: "グループの空気が悪いとき、自分がピエロになってでも場を和ませようとする。", a: "ALT" },
            { t: "「人生で最も大切なのは自分自身だ」という言葉を、美しいと思う。", a: "EGO" },
            { t: "電車で席を譲る際、「誰かに見られているのではないか」と自意識が働いてしまう。", a: "EGO" },
            { t: "SNSで誰かが炎上しているのを見ると、つい「自業自得だ」と詳細を追ってしまう。", a: "EGO" },
            { t: "友人の結婚報告。おめでとうと言う前に「あいつには先を越された」と一瞬思う。", a: "EGO" },
            { t: "チームの勝利よりも、自分がどれだけ重要な役割を果たしたかに価値を感じる。", a: "EGO" },
            { t: "道に迷っている外国人を見かけたら、拙い英語でも声をかけようとする。", a: "ALT" },
            { t: "悩み相談。解決策を提示するより、ただ相手の悲しみを共有したい。", a: "ALT" },
            { t: "自分が損をしても、周囲が幸せならそれでいいと思える瞬間がある。", a: "ALT" },
            { t: "嫌いな相手が酷い目に遭ったという噂を聞くと、正直少し気分が良い。", a: "EGO" },
            { t: "対立を避けるためなら、自分の本当の意見を飲み込むことは苦ではない。", a: "ALT" },
            { t: "「結局、人は自分一人のために生きている」という考えに強く同意する。", a: "EGO" },
            { t: "誰かに必要とされていると感じすることこそが、生きる意味だ。", a: "ALT" },
            { t: "匿名掲示板やSNSで、誰かの落ち度を厳しく指摘したことがある。", a: "EGO" },
            { t: "相手が喜ぶ姿を想像しながら、お土産を選ぶ時間が好きだ。", a: "ALT" },
            { t: "行列でマナーの悪い人を見ても、トラブルが怖いので見て見ぬふりをする。", a: "ALT" },
            { t: "公共の場で騒いでいる子供を、しつけ不足だと冷ややかに思う。", a: "EGO" },
            { t: "親しい友人が借金で困っていたら、返ってこない覚悟で貸すことができる。", a: "ALT" },
            { t: "自分のミスを他人のせいにできるなら、そうした方が賢いと思う時がある。", a: "EGO" },
            { t: "SNSの「いいね」の数は、自分の価値を証明する重要な指標だ。", a: "EGO" },
            { t: "知らない人に道を尋ねられたら、目的地まで案内することがよくある。", a: "ALT" },
            { t: "「自分が良ければいい」と言い切る人間に、どこか潔さを感じる。", a: "EGO" },
            { t: "他人の顔色を伺って、自分の発言を微調整する癖がある。", a: "ALT" },

            // --- 精神軸 (楽観 OPT / 虚無 NIH) : 25問 ---
            { t: "寝る前、明日の予定を考えるとワクワクして眠れないことがある。", a: "OPT" },
            { t: "成功者の体験談を読むと、「運が良かっただけだろう」と斜に構えてしまう。", a: "NIH" },
            { t: "100円の宝くじで、1億円が当たる可能性を夢想して楽しむことができる。", a: "OPT" },
            { t: "どんなに努力しても、生まれ持った才能の壁は越えられないと思う。", a: "NIH" },
            { t: "凄惨なニュースを見ても、どこか他人事のように冷めた目で見てしまう。", a: "NIH" },
            { t: "「人生は一度きり」という言葉に、希望よりも重圧を感じる。", a: "NIH" },
            { t: "自分が死んだ後の世界がどうなっていようが、正直どうでもいい。", a: "NIH" },
            { t: "「死ねばすべて無になる」という考えに、どこか救いを感じる。", a: "NIH" },
            { t: "失敗したときは「今回は運が悪かった、次は大丈夫」とすぐに切り替える。", a: "OPT" },
            { t: "初対面の人に対しても、まずは「いい人だ」と信じて接する。", a: "OPT" },
            { t: "「この世界には何の価値もない」という言葉に、深く共感する。", a: "NIH" },
            { t: "世界平和を願うよりも、まずは自分の預金残高を増やす方が現実的だ。", a: "NIH" },
            { t: "新しいことに挑戦する時、失敗のリスクより成功の報酬を先に考える。", a: "OPT" },
            { t: "どんな過去の失敗も、すべては今の自分に繋がる必要なステップだった。", a: "OPT" },
            { t: "自分には、まだ誰にも見せていない特別な才能が眠っているはずだ。", a: "OPT" },
            { t: "ネットの悲観的な意見を読むと、自分の不安を代弁してくれていると感じる。", a: "NIH" },
            { t: "「100年後の地球」について、明るいイメージを持つのは難しい。", a: "NIH" },
            { t: "夢を語る人を見ると、心のどこかで「いつか現実を知るだろう」と思う。", a: "NIH" },
            { t: "「努力は必ず報われる」という言葉を、本気で信じている。", a: "OPT" },
            { t: "人生において「意味」を探すこと自体が、最大の時間の無駄だ。", a: "NIH" },
            { t: "最悪の事態の中から、一筋の希望を見つける自信がある。", a: "OPT" },
            { t: "自分の命は、宇宙の長い歴史の中では無価値な塵のようなものだ。", a: "NIH" },
            { t: "道端に咲く花を見て、生命の力強さに感動することがある。", a: "OPT" },
            { t: "「いつか人類は滅亡する」と考えると、深い安堵感を覚える。", a: "NIH" },
            { t: "もし生まれ変わるなら、また自分に生まれたいと心から思う。", a: "OPT" },

            // --- 思考軸 (理想 IDE / 現実 REA) : 25問 ---
            { t: "映画や小説を楽しむ前に、ネタバレサイトで結末を確認することがある。", a: "REA" },
            { t: "「愛があればお金はいらない」という言葉に、鼻で笑ってしまう。", a: "REA" },
            { t: "行列ができる人気店には、どれだけ美味しくても並びたくない。", a: "REA" },
            { t: "自分の部屋には、他人には理解されない独自の「こだわり」がある。", a: "IDE" },
            { t: "具体的な解決策よりも、感情が揺さぶられる物語の方に価値を感じる。", a: "IDE" },
            { t: "スペックの数値よりも、一目惚れした直感のデザインで買い物を決める。", a: "IDE" },
            { t: "占い師の言葉よりも、Googleの検索結果の方が圧倒的に信頼できる。", a: "REA" },
            { t: "「正しさ」よりも「美しさ」を優先して判断したいときがある。", a: "IDE" },
            { t: "大きな夢を語るよりも、まずは明日の収支計算を優先したい。", a: "REA" },
            { t: "正論で論破されると、相手が正しくても無性に腹が立つ。", a: "IDE" },
            { t: "「効率化」という言葉を聞くと、どこか寂しくてつまらないと感じる。", a: "IDE" },
            { t: "悩みを聞いたとき、まず「なぜそれが起きたか」の原因を突き止めたい。", a: "REA" },
            { t: "自分にしか見えていない世界の真理があるような気がする。", a: "IDE" },
            { t: "ファンタジー映画よりも、実在の人物を描いたドキュメンタリーが好きだ。", a: "REA" },
            { t: "説明書を読む前に、まずは自分で触って動かし方を覚えるのが好きだ。", a: "IDE" },
            { t: "「普通はこうする」という言葉を、思考停止の極みだと思う。", a: "IDE" },
            { t: "旅行は計画を立てる時が最も楽しく、実際に行くとその通りに進めたくなる。", a: "REA" },
            { t: "恋愛において、情熱よりも「生活力の安定」を重視するのは正しいことだ。", a: "REA" },
            { t: "空想にふけっていて、いつの間にか 1時間経っていることがよくある。", a: "IDE" },
            { t: "芸術にお金を使うくらいなら、美味しい食事にお金を使いたい。", a: "REA" },
            { t: "「目に見えるもの」だけが真実だ、と言い切れる。", a: "REA" },
            { t: "直感で「これだ！」と思ったことは、他人が何を言っても貫き通す。", a: "IDE" },
            { t: "自分の人生は、壮大な物語の主人公のようだと感じることがある。", a: "IDE" },
            { t: "リスクが1%でもあるなら、その計画は中止か再考すべきだ。", a: "REA" },
            { t: "何をするにも、まず「それには何の意味（メリット）があるか」を考える。", a: "REA" },

            // --- 行動軸 (秩序 MOD / 混沌 ANA) : 25問 ---
            { t: "スマホの充電が 50% を切ると、落ち着きがなくなる。", a: "MOD" },
            { t: "予定がない休日こそ、何時に起きるかを決めてから寝たい。", a: "MOD" },
            { t: "他人の靴が揃っていないのを見ると、こっそり直さないと気が済まない。", a: "MOD" },
            { t: "常識やマナーを破ることに、説明できない背徳的な快感を感じる。", a: "ANA" },
            { t: "自分の葬式は、お経を読んだりする従来の形式にはしたくない。", a: "ANA" },
            { t: "「予定は未定」という言葉が、自分の人生のモットーだ。", a: "ANA" },
            { t: "整理整頓が完璧な部屋よりも、少し散らかっている方が落ち着く。", a: "ANA" },
            { t: "寄り道をせずに最短ルートで帰るのは、時間の無駄だと思う。", a: "MOD" },
            { t: "「締め切り」という言葉を聞くと、逃げ出したくなる衝動がある。", a: "ANA" },
            { t: "一度も行ったことがない場所へ行く時、あえて地図を見ずに歩きたい。", a: "ANA" },
            { t: "デスクの上の配置は、常に一定でないと集中できない。", a: "MOD" },
            { t: "ルールがあるからこそ、その中で「自由」を楽しめるのだと思う。", a: "MOD" },
            { t: "新しいお店に入る時、事前にネットで外装や内装を調べてから行く。", a: "MOD" },
            { t: "「とりあえずやってみる」より「まず準備する」方が失敗が少ない。", a: "MOD" },
            { t: "ルーチンワークをこなすことに、不思議な安心感を感じる。", a: "MOD" },
            { t: "予測不可能な行動をとって、周りを驚かせるのが好きだ。", a: "ANA" },
            { t: "誰かに「指示されること」を、魂の屈辱のように感じることがある。", a: "ANA" },
            { t: "ゴミの分別をしない人を見ると、軽蔑の念を隠しきれない。", a: "MOD" },
            { t: "人生は、計算通りにいかないからこそ面白い。", a: "ANA" },
            { t: "毎日の食事の時間が決まっていると、健康的な気分になる。", a: "MOD" },
            { t: "自分がリーダーの時、部下には例外なくマニュアルを守らせたい。", a: "MOD" },
            { t: "既成概念を壊すことに喜びを感じ、わざと空気を読まない時がある。", a: "ANA" },
            { t: "カバンの中身が常に整理されており、必要なものがすぐに出てくる。", a: "MOD" },
            { t: "他人の時間的な遅れ（5分程度の遅刻）が、どうしても許せない。", a: "MOD" },
            { t: "予定が埋まっているカレンダーを見ると、檻に入れられた気分になる。", a: "ANA" }
        ];

        let currentIdx = 0;
        let scores = { ALT:0, EGO:0, OPT:0, NIH:0, IDE:0, REA:0, MOD:0, ANA:0 };
        let finalType = 'ALT';

        function startDiagnosis() {
            document.getElementById('intro').classList.add('hidden');
            document.getElementById('quiz').classList.remove('hidden');
            showQuestion();
        }

        function showQuestion() {
            const q = questions[currentIdx];
            document.getElementById('question-text').innerText = q.t;
            document.getElementById('q-count').innerText = `Question ${(currentIdx + 1).toString().padStart(2, '0')}`;
            const progress = ((currentIdx + 1) / 100) * 100;
            document.getElementById('progress').style.width = `${progress}%`;
            document.getElementById('q-percent').innerText = `${Math.floor(progress)}%`;
        }

        function answer(isYes) {
            const q = questions[currentIdx];
            const opposite = { ALT:'EGO', EGO:'ALT', OPT:'NIH', NIH:'OPT', IDE:'REA', REA:'IDE', MOD:'ANA', ANA:'MOD' }[q.a];
            if(isYes) scores[q.a]++; else scores[opposite]++;
            currentIdx++;
            if(currentIdx < 100) {
                showQuestion();
            } else {
                finishDiagnosis();
            }
        }

        function finishDiagnosis() {
            document.getElementById('quiz').classList.add('hidden');
            document.getElementById('result').classList.remove('hidden');
            showResult();
        }

        function showResult() {
            let maxScore = -1;
            for(let key in scores) { if(scores[key] > maxScore) { maxScore = scores[key]; finalType = key; } }
            
            const data = resultData[finalType];
            document.getElementById('result-title').innerText = data.n;
            document.getElementById('result-catch').innerText = data.c;
            document.getElementById('result-desc').innerHTML = data.d.split('。').filter(s => s).map(s => `<p class="mb-6">${s}。</p>`).join('');
            document.getElementById('result-direction').innerHTML = data.dir.split('。').filter(s => s).map(s => `<p class="mb-4">✦ ${s}。</p>`).join('');
            document.getElementById('stat-1').innerText = (120 + (maxScore * 2) + Math.random() * 2).toFixed(1);
            
            // 偉人ティッカー
            const ticker = document.getElementById('ticker-content');
            ticker.innerHTML = '';
            // ループを滑らかにするため2回繰り返す
            const celebList = [...data.celebs, ...data.celebs];
            celebList.forEach(celeb => {
                const span = document.createElement('span');
                span.className = "ticker-item";
                span.innerText = celeb;
                ticker.appendChild(span);
            });

            // スペクトラム
            const axisContainer = document.getElementById('axis-details');
            axisContainer.innerHTML = '';
            const pairs = [{l:"献身", r:"孤高", lk:'ALT', rk:'EGO'}, {l:"渇望", r:"静観", lk:'OPT', rk:'NIH'}, {l:"夢幻", r:"実利", lk:'IDE', rk:'REA'}, {l:"調和", r:"変革", lk:'MOD', rk:'ANA'}];
            pairs.forEach(p => {
                const total = scores[p.lk] + scores[p.rk];
                const lP = total === 0 ? 50 : Math.round((scores[p.lk] / total) * 100);
                const rP = 100 - lP;
                const item = document.createElement('div');
                item.className = "space-y-4";
                item.innerHTML = `
                    <div class="flex justify-between text-[10px] font-black text-gray-400 uppercase tracking-[0.3em] px-1 italic">
                        <span>${p.l}(${p.lk}) ${lP}%</span>
                        <span>${rP}% ${p.r}(${p.rk})</span>
                    </div>
                    <div class="h-1.5 w-full bg-gray-100 rounded-full flex overflow-hidden">
                        <div class="bg-blue-400 h-full progress-bar" style="width: ${lP}%"></div>
                        <div class="bg-gray-800 h-full progress-bar" style="width: ${rP}%"></div>
                    </div>
                `;
                axisContainer.appendChild(item);
            });
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function shareOnX() {
            const data = resultData[finalType];
            const text = encodeURIComponent(`PITA診断結果：私は【${data.n}】でした。\n${data.c}\n\nあなたは何主義者として生きるのか。深層心理を解剖せよ。\n#PITA診断 #PersonalityIsmTypeAnalyzer\n`);
            const url = encodeURIComponent(window.location.href);
            window.open(`https://twitter.com/intent/tweet?text=${text}&url=${url}`, '_blank');
        }
    </script>
</body>
</html>